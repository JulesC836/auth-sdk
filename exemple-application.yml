# Exemple de configuration application.yml pour un projet utilisant l'Auth SDK
# Copiez ces configurations dans votre fichier application.yml

spring:
  application:
    name: mon-application-avec-auth-sdk

# ========================================
# Configuration JWT Auth SDK (OBLIGATOIRE)
# ========================================
jwt:
  auth:
    # ⚠️ OBLIGATOIRE : Clé secrète pour signer les tokens
    # En production, utilisez une variable d'environnement !
    # Exemple: ${JWT_SECRET}
    secret: "ma-cle-secrete-ultra-securisee-de-256-bits-minimum"

    # Durée de validité du token en millisecondes
    # 86400000 ms = 24 heures (valeur par défaut)
    expiration: 86400000

    # Nom du header HTTP contenant le token
    # Par défaut: "Authorization"
    header: "Authorization"

    # Préfixe du token dans le header
    # Par défaut: "Bearer "
    prefix: "Bearer "

    # Émetteur du token (claim "iss" dans le JWT)
    # Par défaut: "auth-sdk"
    issuer: "mon-application"

    # Active/désactive l'authentification JWT
    # Par défaut: true
    enabled: true

    # Active/désactive la gestion de la blacklist des tokens
    # Par défaut: true
    blacklist-enabled: true

# ========================================
# Configuration Spring Security (optionnel)
# ========================================
spring:
  security:
    user:
      # Désactiver l'utilisateur par défaut de Spring Security
      name: admin
      password: admin
      roles: ADMIN

# ========================================
# Configuration des logs (optionnel)
# ========================================
logging:
  level:
    io.github.photondev.authsdk: DEBUG
    com.example: DEBUG
    org.springframework.security: DEBUG

# ========================================
# Configuration du serveur (optionnel)
# ========================================
server:
  port: 8080

---
# ========================================
# Profil DÉVELOPPEMENT
# ========================================
spring:
  config:
    activate:
      on-profile: dev

jwt:
  auth:
    secret: "dev-secret-key-not-for-production-use-only"
    expiration: 86400000  # 24h
    enabled: true
    blacklist-enabled: true

logging:
  level:
    io.github.photondev.authsdk: DEBUG

---
# ========================================
# Profil PRODUCTION
# ========================================
spring:
  config:
    activate:
      on-profile: prod

jwt:
  auth:
    # ⚠️ En production, TOUJOURS utiliser une variable d'environnement
    secret: ${JWT_SECRET}
    expiration: 3600000  # 1h en production
    enabled: true
    blacklist-enabled: true

logging:
  level:
    io.github.photondev.authsdk: INFO

---
# ========================================
# Profil TEST
# ========================================
spring:
  config:
    activate:
      on-profile: test

jwt:
  auth:
    secret: "test-secret-key-for-testing-purposes"
    expiration: 1000  # 1 seconde pour tester l'expiration
    enabled: true
    blacklist-enabled: true

logging:
  level:
    io.github.photondev.authsdk: DEBUG

